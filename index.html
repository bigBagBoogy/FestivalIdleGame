<!DOCTYPE html>
<html>
  <head>
    <title>Idle GMM festival</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="images/favicon.png" />
    <script src="JS/connectWeb3.js" type="module"></script>

    <!-- without type="module" you get: Uncaught SyntaxError: Cannot use import statement outside a module (at connectWeb3.js:1:1) -->
  </head>

  <body class="responsive">
    <!-- Score-board-bar -->
    <div class="responsive" id="scoreboard-bar">
      <span class="score">Skullies: <span id="totalScore">0</span></span>
      <span class="line-up">Line Up: <span id="lineUpValue">0</span></span>
      <span class="level">Food Level: <span id="foodLevel">1</span></span>
      <a href="patches.html" class="patches-link">patches</a>
      <a href="top-scores.html" class="top-scores-link">Top Scores</a>
    </div>
    <!-- metaMask code for the button -->
    <img id="connectButton" src="images/metamask.svg" alt="connectButton" />

    <img
      id="freeCheatButton"
      src="images/freeCheat.gif"
      alt="freeCheat"
      onClick="freeCheat()"
    />
    <!-- podium -->
    <img
      id="podium-main"
      src="images/podium3.png"
      class="responsive"
      alt="main"
      onClick="upgradePodium()"
    />
    <div id="podiumLevelBox" class="level-box">
      <span id="podiumLevel">lvl 1</span>
    </div>
    <img
      id="podiumUpgradeArrow"
      src="images/upgradeArrow.png"
      alt="podiumUpgradeArrow"
    />
    <!-- end of podium -->

    <!-- drinks -->
    <img
      id="drinksStall"
      src="images/gmmbar.png"
      class="green"
      alt="drinks"
      onClick="upgradeDrinks()"
    />
    <div id="drinksLevelBox" class="level-box">
      <span id="drinksLevelText">lvl 1</span>
    </div>

    <img id="upgradeArrow" src="images/upgradeArrow.png" alt="upgradeArrow" />
    <!-- end of drinks -->
    <!-- food -->
    <img
      id="foodUpgradeArrow"
      src="images/upgradeArrow.png"
      alt="foodUpgradeArrow"
    />

    <img
      id="foodStall"
      src="images/food.png"
      class="responsive"
      alt="food"
      onClick="upgradeFood()"
    />
    <div id="foodLevelBox" class="level-box">
      <span id="foodLevelText">lvl 1</span>
    </div>
    <!-- end of food -->

    <!-- tshirt -->
    <img
      id="tshirtUpgradeArrow"
      src="images/upgradeArrow.png"
      alt="tshirtUpgradeArrow"
    />

    <img
      id="tshirtStall"
      src="images/tshirt.png"
      class="responsive"
      alt="tshirt"
      onClick="upgradeTshirt()"
    />
    <div id="tshirtLevelBox" class="level-box">
      <span id="tshirtLevelText">lvl 1</span>
    </div>
    <!-- end of tshirt -->

    <!-- Custom Popup Container -->
    <div id="popupContainer" class="popup-container">
      <div class="popup-content">
        <h2>Need nore Scullies!</h2>
      </div>
    </div>

    <!-- storyline popup -->
    <button id="storylinePopupButton">Show Popup</button>
    <div id="storylinePopupDiv2" class="storylinePopupDiv2">
      <div class="storylinePopupDiv">
        <span class="close" id="closeStorylinePopup">&times;</span>
        <img id="storylinePopupImage" src="" alt="Popup Image" />
        <p id="storylinePopupText">storyline Popup Text</p>
      </div>
    </div>

    <script type="module">
      // Import the cheatPay function from "./JS/connectWeb3.js"
      import { cheatPay } from "./JS/connectWeb3.js";

      // Set up event handlers for the buttons
      document.getElementById("cheatSilver").addEventListener("click", () => {
        cheatPay(0.0025);
      });

      document.getElementById("cheatGold").addEventListener("click", () => {
        cheatPay(0.005);
      });

      // Other module-related code
    </script>
    <!-- payForScullies popup -->

    <img id="cheatButton" src="images/coin.gif" alt="cheat" />
    <div id="cheatPayPopupDiv2" class="cheatPayPopupDiv2">
      <div class="cheatPayPopupDiv">
        <button id="cheatSilver" class="cheat-button">Cheat Silver</button>
        <button id="cheatGold" class="cheat-button">Cheat Gold</button>
        <span class="close" id="closeCheatPayPopup">&times;</span>
        <img id="cheatPayPopupImage" src="" alt="Popup Image" />
        <p id="cheatPayPopupText">storyline Popup Text</p>
      </div>
    </div>

    <button id="balanceButton" onclick="getBalance()">balance</button>
    <button id="withdrawButton" onclick="withdraw()">withdraw</button>
    <button id="saveProgressButton">Save Progress</button>

    <button id="getPlayerProgressButton" onclick="getPlayerProgress()">
      Load Progress
    </button>
    <div id="progressResult"></div>
    <button id="getTopPlayersButton">Get Top Players</button>
    <!--unused here-->

    <script src="JS/score.js"></script>
    <!--this needs to be at the bottom!-->
    <script src="JS/story-popup.js"></script>
  </body>
</html>
